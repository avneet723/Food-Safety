744f14954731b618fbd693b6f765c595
if(DEBUG){var stringify=function(a){if(null===a)return"null";if("object"==typeof a){if(isArray(a)){for(var a=a.slice(0),b=0,c=a.length;b<c;++b)a[b]=stringify(a[b]);return"["+a.join(", ")+"]"}return a.__class__?"[object "+a.__class__+"]":Object.prototype.toString.call(a)}return""+a},_logBuffer=[],_isInstalled=!1,_isEnabled=!0;exports.install=function(a){if(!_isInstalled){_isInstalled=!0;jsio("import base");var b=base.log,c=setTimeout(function(){_isEnabled=!1},1E4);a.onConnect(function(){clearTimeout(c);
exports.flushBuffer()});var f=!1;base.log=function(){if(_isEnabled&&!f){f=!0;for(var e=arguments.length,c=Array(e),d=0;d<e;++d)c[d]=stringify(arguments[d]);if(!a||!a.isConnected())_logBuffer.push(c);else{if(_logBuffer[0]){for(d=0;e=_logBuffer[d];++d)a.sendEvent("LOG",e);_logBuffer=[]}a.sendEvent("LOG",c)}f=!1}return b.apply(this,arguments)}}};exports.flushBuffer=function(){if(!_logBuffer)return conn.close();for(var a=_logBuffer.length,b=0;b<a;++b)conn.sendEvent("LOG",_logBuffer[b]);_logBuffer=[]}};
