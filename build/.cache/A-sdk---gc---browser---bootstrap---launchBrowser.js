0d65b30db25818a7bb10078607e00f73
jsio("import .renderer");jsio("import lib.Callback");var MAX_FPS=15,PAUSE_DURATION=250,FADE_DURATION=500,TEST_INVITE=!1,delegate,callDelegate=function(a){if(delegate[a])return delegate[a].apply(delegate,Array.prototype.slice.call(arguments,1))},controller=CONFIG.splash||{},d=document,el=d.body.appendChild(d.createElement("canvas")),ctx=el.getContext&&el.getContext("2d");el.style.cssText="position:absolute; background:"+(controller.color||"black");el.style.opacity=1;
el.style.webkitTransition="opacity "+FADE_DURATION+"ms linear";el.style.zIndex=65534;el.onmousedown=el.ontouchstart=function(a){callDelegate("onTap",a);a.stopPropagation();a.preventDefault()};var onResize=function(){var a=window.innerWidth,b=window.innerHeight;if(el.width!=a||el.height!=b)el.width=a,el.height=b,el.style.width=a+"px",el.style.height=b+"px",renderer.setOpts(callDelegate,ctx,a,b),callDelegate("onResize"),renderer.render()};controller.render=function(){renderer.render()};
controller.startTick=function(){this._interval=setInterval(bind(controller,"onTick"),1E3/MAX_FPS)};controller.onTick=function(){callDelegate("onTick");this.render()};controller.show=function(){callDelegate("onBeforeShow");onResize();window.addEventListener("resize",onResize,!1);window.addEventListener("orientationchange",onResize,!1);d.body.appendChild(el);el.style.opacity?callDelegate("onShow"):(el.style.opacity=1,setTimeout(bind(this,callDelegate,"onShow"),FADE_DURATION))};var onHide=new lib.Callback;
controller.hide=function(a){onHide.run(a);callDelegate("onBeforeHide")||(onHide.fire(),onHide.reset(),setTimeout(bind(this,function(){el.style.opacity=0;setTimeout(bind(this,function(){window.removeEventListener("resize",onResize,!1);window.removeEventListener("orientationchange",onResize,!1);d.body.removeChild(el);this._interval&&clearInterval(this._interval);callDelegate("onHide")},FADE_DURATION))}),PAUSE_DURATION))};controller.onAppLoadError=function(a){callDelegate("onAppLoadError",a)};
jsio.__jsio.__srcCache["./src/LoadingDelegate.js"]?(jsio("import src.LoadingDelegate as LoadingDelegate"),delegate=new LoadingDelegate):delegate={init:function(){var a=null;jsio("import device");if(device&&device.width>device.height)a=controller.landscape768,a||(a=controller.landscape1536);else if(a=controller.portrait480,a||(a=controller.portrait960),a||(a=controller.portrait1024),a||(a=controller.portrait1136),!a)a=controller.portrait2048;a&&(jsio("import .ImageView"),new loader.ImageView({image:a,
scaleMethod:controller.scaleMethod}));controller.show()}};callDelegate("onLoad",controller);onResize();setTimeout(function(){window._continueLoad()},100);
