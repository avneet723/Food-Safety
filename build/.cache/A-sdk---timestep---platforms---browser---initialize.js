204933b53be9fc00753f9476cd45c7b7
jsio("import device");jsio("from util.browser import $");device.registerDevice("browser","platforms.browser");
exports.init=function(){var c;if(device.isMobileBrowser){device.setUseDOM(!0);var e=device.screen;if(device.isIOS||device.isAndroid){var d=!1;window.addEventListener("focus",function(a){a=a.target.tagName;if("TEXTAREA"==a||"INPUT"==a)d=!0},!0);document.addEventListener("blur",function(){d&&(d=!1)},!0);device.hideAddressBar=function(){if(!d&&device.isMobileBrowser&&(device.isIOS||device.isAndroid))device.isIOS?(window.scrollTo(0,1),window.scrollTo(0,0)):window.scrollTo(0,-1)};CONFIG.unlockViewport||
window.addEventListener("touchstart",bind(device,"hideAddressBar"),!0)}var f,g,h;c=function(){device.isIOS&&device.hideAddressBar();var a=window.outerWidth,b=window.outerHeight,c=window.orientation;if(!(f==a&&g==b&&h==c)&&(f=a,g=b,h=c,e.isPortrait=b>a,e.isLandscape=!e.isPortrait,a=window.innerWidth,b=window.innerHeight,device.width!=a||device.height!=b||device.orientation!=c))device.width=a,device.height=b,device.orientation=c,device.screen.publish("Resize",device.width,device.height,device.orientation)}}else c=
function(){var a=window.document,b=window.innerWidth||a.clientWidth||a.clientWidth,a=window.innerHeight||a.clientHeight||a.clientHeight;if(b!=device.width||a!=device.height)device.width=b,device.height=a,device.screen.width=b,device.screen.height=a,b>a?(device.screen.isPortrait=!1,device.screen.isLandscape=!0,device.screen.orientation="landscape"):(device.screen.isPortrait=!0,device.screen.isLandscape=!1,device.screen.orientation="portrait"),device.screen.publish("Resize",b,a)};$.onEvent(window,"resize",
c,!1);$.onEvent(window,"orientationchange",c,!1);c()};
