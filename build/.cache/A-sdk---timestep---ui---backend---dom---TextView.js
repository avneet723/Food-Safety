5044c8b395db1432d84eab517bee1bd5
jsio("import ui.View as View");jsio("import device");var sdk_timestep_ui_backend_dom_TextView=__class__;
exports=sdk_timestep_ui_backend_dom_TextView(function(){return this.init&&this.init.apply(this,arguments)},View,function(c){this._displayStyle="table";var d={wrap:!0,autoSize:!0,autoFontSize:!0,verticalPadding:0,horizontalPadding:0,lineHeight:1.2,color:"#000000",fontFamily:device.defaultFontFamily,fontWeight:"",size:12,lineWidth:2,outlineColor:null,shadowColor:null,verticalAlign:"middle",horizontalAlign:"center",backgroundColor:null};this.init=function(a){c(this,"init",[merge(a,d)])};this.updateOpts=
function(a){var a=c(this,"updateOpts",arguments),b=this.__view.getElement().style;a.horizontalPadding&&(isArray(a.horizontalPadding)?(b.paddingLeft=a.horizontalPadding[0]+"px",b.paddingRight=a.horizontalPadding[0]+"px"):(b.paddingLeft=a.horizontalPadding+"px",b.paddingRight=a.horizontalPadding+"px"));a.verticalPadding&&(isArray(a.verticalPadding)?(b.paddingTop=a.verticalPadding[0]+"px",b.paddingBottom=a.verticalPadding[0]+"px"):(b.paddingTop=a.verticalPadding+"px",b.paddingBottom=a.verticalPadding+
"px"));a.color&&(b.color=a.color);a.size&&(b.fontSize=a.size+"px");a.fontFamily&&(b.fontFamily=a.fontFamily);a.horizontalAlign&&(b.textAlign=a.horizontalAlign);a.fontWeight&&(b.fontWeight=a.fontWeight);a.shadowColor&&(b.textShadow=a.shadowColor+" 2px 2px 1px");a.outlineColor&&(b.webkitTextStroke=a.lineWidth+"px "+a.outlineColor);a.wrap||(b.whiteSpace="nowrap");b.display="table";"text"in a&&this.setText(a.text)};this.getText=function(){return this.__view.getElement().getElementsByTagName("span")[0].innerHTML};
this.reflow=function(){if(this._textNode&&this._opts.autoSize){var a=this._textNode.scrollHeight;if(!this.style.height||this.style.height<a)this.style.height=a}};this.setText=function(a){if("function"==typeof a)return a(this);if(this._text!=a){this._text=a;var b=this._textNode||document.createElement("span");this._textNode||(this._textNode=b,this.__view.getElement().appendChild(b),b.className="text",b.style.display="table-cell",b.style.verticalAlign=this._opts.verticalAlign||"middle");this._textNode.innerText=
a||"";this.needsReflow()}}});
