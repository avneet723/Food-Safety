b64d1f914e9dd82a203f235966f287b6
jsio("import ui.View");jsio("import ui.ImageView");jsio("import ui.TextView");jsio("import ui.widget.ButtonView");jsio("import src.Timer");jsio("import src.Temperature");var src_FoodItem=__class__;
exports=src_FoodItem(function(){return this.init&&this.init.apply(this,arguments)},ui.ImageView,function(c){this.init=function(a){this.uncooked=a.uncookedImage;this.cooked=a.cookedImage;this.minTemp=a.minTemp;this.bottom="bottom"==a.side;this.isCooked=!1;c(this,"init",[a]);var b=this,d=new ui.ImageView({superview:this,width:this.style.width,height:this.style.height,image:this.uncooked}),e=new ui.ImageView({superview:this,width:this.style.width,height:this.style.height,image:this.cooked,visible:!1});
this.timer=new src.Timer({superview:this,y:this.bottom?80:-70,width:70,height:70,visible:!1});this.temp=new src.Temperature({superview:this,x:100,y:this.bottom?80:-70,width:70,height:70,startTemp:0.9*this.minTemp,endTemp:1.05*this.minTemp,visible:!1});this.temp.onChange=function(a){!b.isCooked&&a>=b.minTemp&&(b.isCooked=!0,e.style.visible=!0,d.style.visible=!1,b.temp.style.visible&&(b.timer.style.visible=!0,b.timer.start()))};this.serveButton=new ui.widget.ButtonView({superview:this,x:45,y:30,width:40,
height:25,title:"Serve",backgroundColor:"rgba(255,255,255,0.5)",visible:!1});this.temp.start()};this.hideInfoStats=function(){this.timer.reset();this.timer.style.visible=!1;this.temp.style.visible=!1;this.serveButton.style.visible=!1};this.showInfoStats=function(){this.temp.style.visible=!0;this.serveButton.style.visible=!0;this.isCooked&&(this.timer.style.visible=!0,this.timer.start())};this.toggleInfoStats=function(){this.temp.style.visible?this.hideInfoStats():this.showInfoStats()}});
