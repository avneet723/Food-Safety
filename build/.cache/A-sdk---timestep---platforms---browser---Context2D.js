7c870e367167921b9b2d6b43d6c5a8c7
jsio("import device");jsio("import .FontRenderer");function setter(f){return function(g){return this[f]=g}}function getter(f){return function(){return this[f]}}
exports=function(f){var g=f&&f.el||document.createElement("canvas");g.width=f.width;g.height=f.height;var a=g.getContext("2d");a.font="11px "+device.defaultFontFamily;a.getElement=function(){return g};a.reset=function(){};a.clear=function(){this.clearRect(0,0,g.width,g.height)};a.clipRect=function(k,c,d,e){a.beginPath();a.rect(k,c,d,e);a.clip()};a.swap=function(){};a.execSwap=function(){};a.circle=function(k,a,d){this.beginPath();this.arc(k,a,d,0,2*Math.PI,!0)};var l=null,m=null,n=null;a.drawPointSprites=
function(a,c,d,e){var b=this.pointSprite;if(b&&b.complete){var f=b.width,g=b.height,i=n||(n=document.createElement("canvas"));if(b!=l||this.strokeStyle!=m){l=b;m=this.strokeStyle;i.width=f;i.height=g;var h=i.getContext("2d");h.fillStyle=this.strokeStyle;h.fillRect(0,0,f,g);h.globalCompositeOperation="destination-in";h.drawImage(b,0,0)}d-=a;e-=c;b=Math.ceil(Math.sqrt(d*d+e*e)/this.pointSpriteStep);1>b&&(b=1);for(var h=this.lineWidth,j=0;j<b;++j)this.drawImage(i,0,0,f,g,a+d*j/b-h/2,c+e*j/b-h/2,h,h)}};
a.roundRect=function(a,c,d,e,b){this.beginPath();this.moveTo(a,c+b);this.lineTo(a,c+e-b);this.quadraticCurveTo(a,c+e,a+b,c+e);this.lineTo(a+d-b,c+e);this.quadraticCurveTo(a+d,c+e,a+d,c+e-b);this.lineTo(a+d,c+b);this.quadraticCurveTo(a+d,c,a+d-b,c);this.lineTo(a+b,c);this.quadraticCurveTo(a,c,a,c+b)};a.loadIdentity=function(){this.setTransform(1,0,0,1,0,0)};a.measureText=FontRenderer.wrapMeasureText(a.measureText);a.fillText=FontRenderer.wrapFillText(a.fillText);a.strokeText=FontRenderer.wrapStrokeText(a.strokeText);
a.filters={};a.setFilters=function(a){for(var c in a)this.filters[c]=a[c]};a.clearFilters=function(){for(var a in this.filters)delete this.filters[a]};return a};
