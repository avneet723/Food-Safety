00dc36cd17ff5e824b3ce830bc3329c2
"use import";jsio("import std.js as JS");var sdk_jsio_lib_Iterator=__class__;
exports=sdk_jsio_lib_Iterator(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(a){this._src=a;this._calls=this._i=0;if(JS.isArray(a))this._isArray=!0;else if(Object.keys)this._keys=Object.keys(a);else{var b=this._keys=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c)}};this.nextKey=function(){return this._keys[this._i++]};this.next=function(){if(this._isArray)return this._src[this._i++]||exports.END_OF_LOOP;var a=this._keys[this._i++];return a?this._src[a]:
exports.END_OF_LOOP};this.loop=function(a){1<arguments.length&&(a=bind.apply(this,arguments));var b;if(this._isArray)for(;b=this.next();)a(b);else for(;b=this.nextKey();)a(this._src[b],b)};this.asyncLoop=function(a){1<arguments.length&&(a=bind.apply(this,arguments));this._next=bind(this,"_onReturn",a);this._calls++;this._asyncLoop(a)};this._asyncLoop=function(a){for(this._inLoop=!0;this._calls;)--this._calls,a(this.next(),this._next);this._inLoop=!1};this._onReturn=function(a){this._calls++;this._inLoop||
this._asyncLoop(a)}});exports.END_OF_LOOP=Error("jsio.Iterator.END_OF_LOOP");
