a9b3aa66fa148668beed0bb3dbc6609d
var sdk_timestep_ui_layout_BoxLayout=__class__,BoxLayout=exports=sdk_timestep_ui_layout_BoxLayout(function(){return this.init&&this.init.apply(this,arguments)},function(){var g=this.constructor;this.reflowsChildren=!1;this.init=function(b){this._view=b.view;g.initParentListener(b.view)};this.reflow=function(b){var d=this._view,c=d.getSuperview(),a=d.style;if(c&&(b||!a.inLayout||!c.style.layout||!c.__layout.reflowsChildren))g.reflowX(d,c.style.width),g.reflowY(d,c.style.height)};g.addParentListener=
function(b){b.style.__removeSuperviewResize&&b.style.__removeSuperviewResize();var d=bind(b,"needsReflow"),c=b.getSuperview();c&&c.on("Resize",d);b.style.__removeSuperviewResize=bind(b.style,function(){this.__removeSuperviewResize=null;c&&c.removeListener("Resize",d)})};g.initParentListener=function(b){b.__root&&this.addParentListener(b);b.on("ViewAdded",bind(this,"addParentListener",b));b.on("ViewRemoved",bind(b.style,function(){this.__removeSuperviewResize&&this.__removeSuperviewResize()}))};var h=
/%$/;g.reflowX=function(b,d,c){if(d){var a=b.style,d=d-(c&&c.getHorizontal()||0),e=0;if("wrapContent"==a.layoutWidth)for(var b=b.getSubviews(),g=0,f;f=b[g];++g)f=f.style.x+f.style.width*f.style.scale,f>e&&(e=f);else e=void 0!=a.right&&void 0!=a.left?d/a.scale-(a.left||0)-(a.right||0):h.test(a.layoutWidth)?d/a.scale*parseFloat(a.layoutWidth)/100:a.aspectRatio?a.height*a.aspectRatio:a.width||d/a.scale;a.centerX&&(a.x=(d-a.scale*e)/2+(c&&c.left||0));void 0==a.left&&void 0!=a.right&&(a.x=d-a.scale*e-
a.right-(c&&c.right||0));void 0!=a.left&&(a.x=a.left+(c&&c.left||0));a.width=e;a.centerAnchor&&(a.anchorX=e/2)}};g.reflowY=function(b,d,c){if(d){var a=b.style,d=d-(c&&c.getVertical()||0),e=0;if("wrapContent"==a.layoutHeight)for(var b=b.getSubviews(),g=0,f;f=b[g];++g)f=f.style.y+f.style.height*f.style.scale,f>e&&(e=f);else e=void 0!=a.top&&void 0!=a.bottom?d/a.scale-(a.top||0)-(a.bottom||0):h.test(a.layoutHeight)?d/a.scale*parseFloat(a.layoutHeight)/100:a.aspectRatio?a.width/a.aspectRatio:a.height||
d/a.scale;a.centerY&&(a.y=(d-a.scale*e)/2+(c&&c.top||0));void 0==a.top&&void 0!=a.bottom&&(a.y=d-a.scale*e-a.bottom-(c&&c.bottom||0));void 0!=a.top&&(a.y=a.top+(c&&c.top||0));a.height=e;a.centerAnchor&&(a.anchorY=e/2)}}});
