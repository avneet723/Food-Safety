2160d1b7ccc3007442659a71cb3ccd9c
jsio("import device");jsio("import ui.StackView as StackView");jsio("import ui.TextView as TextView");jsio("import ui.ImageView as ImageView");jsio("import src.TitleScreen as TitleScreen");jsio("import src.GameScreen as GameScreen");jsio("import src.HelpScreen as HelpScreen");jsio("import src.ExitScreen as ExitScreen");jsio("import src.AboutScreen as AboutScreen");jsio("import src.ServingScreen as ServingScreen");jsio("import src.HandwashingScreen as HandwashingScreen");jsio("import src.CookingScreen as CookingScreen");
jsio("import src.CoolerScreen as CoolerScreen");jsio("import src.StepScreen as StepScreen");jsio("import src.EndScreen as EndScreen");jsio("import src.Notification as Notification");jsio("import src.Status as Status");var src_Application=__class__;
exports=src_Application(function(){return this.init&&this.init.apply(this,arguments)},GC.Application,function(){this.initUI=function(){this.view.style.backgroundColor="black";this.style.x=(device.screen.width-800)/2;this.style.y=(device.screen.height-600)/2;this.maxScore=this.score=0;this.glovesOn=!0;this.rootView=new StackView({superview:this,width:800,height:600,clip:!0,backgroundColor:"black"});this.stepScreen=new StepScreen({superview:this});this.endScreen=new EndScreen({superview:this});this.notification=
new Notification({superview:this});this.statusBar=new Status({superview:this});this.statusBar.style.visible=!1;this.screens={title:new TitleScreen,game:new GameScreen,about:new AboutScreen,help:new HelpScreen,exit:new ExitScreen,serving:new ServingScreen,handwashing:new HandwashingScreen,cooking:new CookingScreen};this.screenNotVisited={game:!0,serving:!0,handwashing:!0,cooking:!0};this.goToScreen("title")};this.goToScreen=function(a){var b=this;!this.glovesOn&&("serving"==a||"cooking"==a)?this.showNotification("You must wash your hands before doing this station",
"error"):(this.rootView.push(this.screens[a]),this.statusBar.style.visible="title"!=a,this.screenNotVisited[a]&&(this.screenNotVisited[a]=!1,this.addScore(),"game"==a?this.showNotification("Achievement Unlocked: Starting Game (100)","info"):this.showNotification("Achievement Unlocked: New Station (100)","info"),setTimeout(function(){b.showStepScreen()},1E3)))};this.goBack=function(){var a=this.rootView.getStack().length;1<a&&this.rootView.pop();1>=a-1&&(this.statusBar.style.visible=!1)};this.showStepScreen=
function(){this.stepScreen.show(this.rootView.getCurrentView().helpText)};this.showEndScreen=function(){this.endScreen.show(this.rootView.getCurrentView().endText)};this.showEndScreen=function(){this.endScreen.show(this.rootView.getCurrentView().endText)};this.showNotification=function(a,b){this.notification.show(a,b);"error"==b&&this.subScore()};this.addScore=function(){this.score+=100;this.maxScore+=100;this.statusBar.updateScore()};this.subScore=function(){5<=this.score&&(this.score-=5);this.statusBar.updateScore()};
this.launchUI=function(){}});
