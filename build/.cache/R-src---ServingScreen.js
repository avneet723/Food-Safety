5fbd93bdb007c83815a182d50fced44d
jsio("import animate");jsio("import ui.View");jsio("import ui.ImageView");jsio("import ui.TextView");jsio("import ui.widget.ButtonView");jsio("import src.TextImageView");jsio("import src.MouseHand");jsio("import src.ServingFoodItem");var src_ServingScreen=__class__;
exports=src_ServingScreen(function(){return this.init&&this.init.apply(this,arguments)},ui.ImageView,function(o){this.helpText="";this.endText="You have successfully taken the temperature of all the items.";this.init=function(){var i=!1;opts={image:"resources/images/serving.png"};o(this,"init",[opts]);var c=[];c[0]=new src.ServingFoodItem({superview:this,x:224,y:210,width:110,height:110,temp:38});c[1]=new src.ServingFoodItem({superview:this,x:476,y:178,width:130,height:120,temp:130});c[2]=new src.ServingFoodItem({superview:this,
x:92,y:330,width:228,height:123,temp:42,side:"bottom"});c[3]=new src.ServingFoodItem({superview:this,x:483,y:310,width:147,height:141,temp:135,side:"bottom"});var k=this;c.forEach(function(a){a.onInputSelect=function(){a.tempImage.style.visible||(i?GC.app.showNotification("Please wipe your thermometer before using it on another item","error"):(c.forEach(function(a){a.hideTemp()}),a.showTemp(),i=!0,k.mouseHand.setImage("resources/images/thermometerDirty.png")))}});(new ui.widget.ButtonView({superview:this,
x:52,y:514,width:98,height:52})).onInputSelect=function(){c.forEach(function(a){a.hideTemp()});i=!1;k.mouseHand.setImage("resources/images/thermometerClean.png")};(new ui.widget.ButtonView({superview:this,x:560,y:500,width:94,height:100})).onInputSelect=function(){e.style.visible=!0};new src.TextImageView({superview:this,x:340,y:42,width:150,height:38,image:"resources/images/clock.png",visible:!1,text:{text:"2:00 pm",color:"#00afdc",size:34,fontFamily:"Helvetica"}});var e=new ui.ImageView({superview:this,
width:800,height:600,image:"resources/images/TempLog_Table.png",visible:!1});(new ui.widget.ButtonView({superview:e,x:360,y:520,width:80,height:30,images:{up:"resources/images/Close-Button-None.png",down:"resources/images/Close-Button-Active.png"}})).onInputSelect=function(){e.style.visible=!1};for(var d=[],f=[],g=[],h=[],b=0;4>b;b++){d[b]=new ui.widget.ButtonView({superview:e,x:670,y:160+95*b,width:59,height:30,clickOnce:!0,images:{up:"resources/images/Button-NotActive.png",disabled:"resources/images/Button-Active.png"}});
var l=new ui.widget.ButtonView({superview:e,x:262,y:142+95*b,width:60,height:65,backgroundColor:"rgba(255, 255, 255, 0.6)"}),m=new ui.widget.ButtonView({superview:e,x:380,y:142+95*b,width:65,height:65,backgroundColor:"rgba(255, 255, 255, 0.6)"}),n=new ui.widget.ButtonView({superview:e,x:520,y:142+95*b,width:55,height:70,backgroundColor:"rgba(255, 255, 255, 0.6)"});(function(a,b,c){a.onInputSelect=function(){a.style.visible=!1;b.style.visible=!0;c.style.visible=!0};b.onInputSelect=function(){a.style.visible=
!0;b.style.visible=!1;c.style.visible=!0};c.onInputSelect=function(){a.style.visible=!0;b.style.visible=!0;c.style.visible=!1}})(l,m,n);f[b]=l;g[b]=m;h[b]=n}var j=function(a){d[a].setState(ui.widget.ButtonView.states.DISABLED);for(a=0;a<d.length;a++)if(d[a].getState()!=ui.widget.ButtonView.states.DISABLED)return;GC.app.showEndScreen()};d[0].onInputSelect=function(){!f[0].style.visible||!g[0].style.visible||!h[0].style.visible?(GC.app.showNotification("There is no need for a corrective action","error"),
f[0].style.visible=!0,g[0].style.visible=!0,h[0].style.visible=!0):j(0)};d[1].onInputSelect=function(){f[1].style.visible?(GC.app.showNotification("Appropriate corrective action not applied","error"),f[1].style.visible=!0,g[1].style.visible=!0,h[1].style.visible=!0):j(1)};d[2].onInputSelect=function(){g[2].style.visible?(GC.app.showNotification("Appropriate corrective action not applied","error"),f[2].style.visible=!0,g[2].style.visible=!0,h[2].style.visible=!0):j(2)};d[3].onInputSelect=function(){h[3].style.visible?
(GC.app.showNotification("Appropriate corrective action not applied","error"),f[3].style.visible=!0,g[3].style.visible=!0,h[3].style.visible=!0):j(3)};this.mouseHand=new src.MouseHand({superview:this,image:"resources/images/thermometerClean.png"})};this.onInputMove=function(i,c){this.mouseHand.update(c)}});
